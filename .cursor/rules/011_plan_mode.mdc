# 011_plan_mode.mdc

プランについての説明は "010_mode.mdc" を参照してください。  
もしこのファイルが単独で読み取られた場合、先に "./010_mode.mdc" を必ず参照してください。

## Plan Mode

alias: plan, 計画モード

実装計画の作成や、設計の立案に適したモードです。

## 実行手順

### 前提

- **Planモードではコードの編集は行わないでください**
- 資料やドキュメントの作成は行っても構いません

### 状況確認

- 実装計画立案はタスク実行の最終的な結果を左右する最重要ステップです
  - 時間をかけてでも、十分に詳細かつ包括的な分析を行ってください
- まず初めに `git status` を実行し、現在のgitの状態を確認してください
- ユーザーに関連するpull requestがあるかを確認してください
  - ユーザーから番号が与えられた場合は `gh pr view <pull requst number>` を実行し、問題の内容を確認してください
  - 与えられなかった場合は既存のpull requestは無いものとして続行してください

### 分析とタスクの明瞭化

- ユーザーの要求に対して考察をし、既存のコードの分析を行ってください
- 必要だと思われるファイルは全範囲をマッピングしてください
- ユーザーに要求を明瞭化するための質問を２つほど行ってください
  - 明瞭度が不足していると感じた場合は更に質問を繰り返し、ブラッシュアップを行ってください

### 行動計画の提示

- ユーザーの要求が十分に明瞭化できたら、行動計画を作成しユーザーに提示してください
  - タスク実行に必要な作業をステップごとに詳しく提示してください
  - それらのステップの最適な実行順序を決定してください
  - ファイルやフォルダの作成を行う際はどこに何を作成するかを列挙してください
  - 影響範囲のファイルをすべて列挙してください
    - 影響を受けるファイルはどのように影響を受けるのかを提示してください

### さいごに

- すべてのタスクが完了したら、実装計画を再評価してください
- 当初の指示内容との整合性を確認し、必要に応じて調整を行ってください
- 提示した行動計画にユーザーが承諾したら作業を開始してください
